import{r as u,c as d,v as z,ab as g,B as m,z as h,J as P,a5 as D,C as l,E as p,D as _}from"./vue-vendor-C3C-az8a.js";import{g as L}from"./element-plus-B8SKDpVE.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";function A(o){const s=u([]),c=u(0),n=u(!1),e=u(1),a=u(10),i=u({}),x=d(()=>s.value.length>0),k=d(()=>!n.value&&s.value.length===0),w=d(()=>Math.ceil(c.value/a.value));async function r(t){n.value=!0;try{const v={page:(t==null?void 0:t.page)??e.value,pageSize:(t==null?void 0:t.pageSize)??a.value,...i.value,...t},f=(await o(v)).data.data;s.value=f.data,c.value=f.meta.total,e.value=f.meta.page,a.value=f.meta.pageSize}catch(v){throw console.error("获取数据失败:",v),v}finally{n.value=!1}}function B(t){e.value=t,r()}function S(t){a.value=t,e.value=1,r()}function C(t){i.value={...i.value,...t},e.value=1}function E(){i.value={},e.value=1}function T(){r()}function b(){e.value=1,a.value=10,i.value={},r()}return{data:s,total:c,loading:n,page:e,pageSize:a,filters:i,hasData:x,isEmpty:k,totalPages:w,fetchData:r,handlePageChange:B,handlePageSizeChange:S,setFilters:C,resetFilters:E,refresh:T,reset:b}}async function y(o){const{title:s="提示",message:c,confirmButtonText:n="确定",cancelButtonText:e="取消",type:a="warning"}=o;try{return await L.confirm(c,s,{confirmButtonText:n,cancelButtonText:e,type:a,center:!0}),!0}catch{return!1}}async function G(o="此项"){return y({title:"删除确认",message:`确定要删除${o}吗？此操作不可恢复。`,confirmButtonText:"删除",cancelButtonText:"取消",type:"error"})}async function H(o="此项"){return y({title:"发布确认",message:`确定要发布${o}吗？`,confirmButtonText:"发布",cancelButtonText:"取消",type:"warning"})}const I={class:"list-skeleton"},M={class:"skeleton-content"},N={class:"skeleton-actions"},V=z({__name:"ListSkeleton",props:{count:{default:5}},setup(o){return(s,c)=>{const n=g("ElSkeletonItem"),e=g("ElSkeleton");return h(),m("div",I,[(h(!0),m(P,null,D(o.count,a=>(h(),m("div",{key:a,class:"skeleton-item"},[l(e,{animated:"",class:"skeleton-image"},{template:_(()=>[l(n,{variant:"image",style:{width:"120px",height:"80px"}})]),_:1}),p("div",M,[l(e,{animated:"",rows:3})]),p("div",N,[l(e,{animated:""},{template:_(()=>[l(n,{variant:"button",style:{width:"60px"}}),l(n,{variant:"button",style:{width:"60px"}}),l(n,{variant:"button",style:{width:"60px"}})]),_:1})])]))),128))])}}}),K=F(V,[["__scopeId","data-v-a0adc638"]]);export{K as L,G as a,H as s,A as u};
