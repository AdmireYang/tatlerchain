import{r as n,c as r}from"./vue-vendor-CaWn4O-h.js";function F(f){const o=n([]),i=n(0),c=n(!1),t=n(1),a=n(10),l=n({}),g=r(()=>o.value.length>0),h=r(()=>!c.value&&o.value.length===0),d=r(()=>Math.ceil(i.value/a.value));async function u(e){c.value=!0;try{const s={page:(e==null?void 0:e.page)??t.value,pageSize:(e==null?void 0:e.pageSize)??a.value,...l.value,...e},v=(await f(s)).data.data;o.value=v.data,i.value=v.meta.total,t.value=v.meta.page,a.value=v.meta.pageSize}catch(s){throw console.error("获取数据失败:",s),s}finally{c.value=!1}}function y(e){t.value=e,u()}function z(e){a.value=e,t.value=1,u()}function S(e){l.value={...l.value,...e},t.value=1}function p(){l.value={},t.value=1}function P(){u()}function w(){t.value=1,a.value=10,l.value={},u()}return{data:o,total:i,loading:c,page:t,pageSize:a,filters:l,hasData:g,isEmpty:h,totalPages:d,fetchData:u,handlePageChange:y,handlePageSizeChange:z,setFilters:S,resetFilters:p,refresh:P,reset:w}}export{F as u};
